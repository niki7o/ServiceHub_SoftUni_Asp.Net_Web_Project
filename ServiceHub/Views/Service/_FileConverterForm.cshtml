@using ServiceHub.Common
@using ServiceHub.Core.Models.Service.FileConverter

@{
    Guid serviceId = ViewBag.ServiceId as Guid? ?? ServiceConstants.FileConverterServiceId;

    if (serviceId == Guid.Empty)
    {
        <div class="card shadow-lg mt-5 p-4 text-center">
            <p class="text-danger font-weight-bold">
                Грешка: Идентификаторът на услугата не е зададен правилно.
                Моля, проверете ServiceConstants.cs и FileConverterController.cs.
            </p>
        </div>
        return;
    }
}
<link rel="stylesheet" href="~/css/fileConverter.css" asp-append-version="true" />
<script src="~/js/fileConverter.js" asp-append-version="true"></script>


<div class="form-page-container">
    <div class="file-converter-card">
        <div class="card-background-pattern"></div>
        <h2 class="form-title">Конвертор на Файлове</h2>

        <form id="fileConvertForm" action="/FileConverter/Convert" method="post" enctype="multipart/form-data">
            <input type="hidden" name="ServiceId" value="@serviceId.ToString()" />

            <div class="form-group">
                <label for="fileContent">Изберете файл:</label>
                <input type="file" id="fileContent" name="FileContent" class="form-control-file custom-file-input" required />
            </div>

            <div class="form-group">
                <label for="originalFileName">Оригинално име на файла (по избор):</label>
                <input type="text" id="originalFileName" name="OriginalFileName" placeholder="Пример: МоятДокумент.pdf"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label for="targetFormat">Целеви формат:</label>
                <select id="targetFormat" name="TargetFormat" class="form-control" required>
                    <option value="">Изберете формат</option>
                    <option value="pdf">PDF</option>
                    <option value="docx">DOCX</option>
                    <option value="xlsx">XLSX</option>
                    <option value="txt">TXT</option>
                    <option value="csv">CSV</option>
                    <option value="jpg">JPG</option>
                    <option value="png">PNG</option>
                </select>
            </div>

            <div class="form-group form-check">
                <input type="checkbox" id="performOCRIfApplicable" name="PerformOCRIfApplicable"
                       class="form-check-input" />
                <label class="form-check-label" for="performOCRIfApplicable">Извърши OCR, ако е приложимо (Само за изображения към текст)</label>
            </div>

            <button type="submit" class="btn btn-primary submit-btn">
                Конвертирай
            </button>
        </form>

        <div id="messageBox" class="message-box d-none" role="alert"></div>
    </div>
</div>

